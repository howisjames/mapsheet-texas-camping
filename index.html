<!DOCTYPE html>
<html>
	<head>
		 <link rel="stylesheet" href="https://unpkg.com/leaflet@1.5.1/dist/leaflet.css"
   integrity="sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ=="
   crossorigin=""/>
	 <!--[if lte IE 8]>
	     <link rel="stylesheet" href="https://cdn.leafletjs.com/leaflet-0.4/leaflet.ie.css" />
	 <![endif]-->
	<link rel="stylesheet" href="dist/leaflet.awesome-markers.css">
	</head>
  <body>
	
		<!--
			This example uses:
				Leaflet
				Handlebars templating for popups
				markerOptions to set a ton of marker options
		-->

    <div id="map" style="height: 600px"></div>

    <script type="text/javascript" src="common/tabletop.min.js"></script>
    <script type="text/javascript" src="common/handlebars.js"></script>
    <script src="https://unpkg.com/leaflet@1.5.1/dist/leaflet.js"
   integrity="sha512-GffPMF3RvMeYyc1LWMHtK8EbPv0iNZ8/oTtHPx9/cc2ILxQ+u905qIwdpULaqDkyBKgOaB57QTMg7ztg8Jm2Og=="
   crossorigin=""></script>
    <script src="dist/leaflet.awesome-markers.js"></script>
    <script type="text/javascript" src="src/mapsheet.js"></script>

    <script id="popup-template" type="text/x-handlebars-template">
			<h3>{{Site}}</h3>
			<p>{{Description}}</p>
			<p>Cost: {{Cost}}  |  Sequence: {{Order}}</p>
    </script>

    <script type="text/javascript">
    	window.onload = function() { init() };

      var public_spreadsheet_url = 'https://docs.google.com/spreadsheets/d/14Inbc-KII18NQk8wNeo3B93H95ojV9wAjyZpqEq9qMk/edit?usp=sharing';
	    
      function init() {
        Mapsheet( { key: public_spreadsheet_url,
									element: "map",
									popupTemplate: "popup-template",
									provider: Mapsheet.Providers.Leaflet,
									markerOptions: {
										// iconUrl: 'src/images/mymarker.png',
										shadowSize:   [50, 64], // size of the shadow
										iconAnchor:   [22, 94], // point of the icon which will correspond to marker's location
									 	shadowAnchor: [4, 62],  // the same for the shadow
										popupAnchor:  [-3, -76], // point from which the popup should open relative to the iconAnchor
										// html: 
									}
								} );
      }

      document.write("The published spreadsheet is located at <a target='_new' href='" + public_spreadsheet_url + "'>" + public_spreadsheet_url + "</a>");        
    </script>
  </body>
</html>
